{
  "name": "calculator",
  "description": "Performs basic arithmetic on two numbers.",
  "type": "tool",
  "backend": "openai",
  "tool_type": "function",
  "bindings": {
    "openai": {
      "parameters": {
        "type": "object",
        "properties": {
          "a": {
            "type": "number",
            "description": "The first operand"
          },
          "b": {
            "type": "number",
            "description": "The second operand"
          },
          "operation": {
            "type": "string",
            "enum": ["add", "subtract", "multiply", "divide"],
            "description": "The operation to perform"
          }
        },
        "required": ["a", "b", "operation"]
      },
      "function": "calculator"
    },
    "mcp": {
      "endpoint": "http://mcp.internal/api/calculate",
      "method": "POST",
      "headers": {
        "Authorization": "Bearer ${MCP_TOKEN}"
      },
      "payload_template": {
        "operand1": "${input.a}",
        "operand2": "${input.b}",
        "operator": "${input.operation}"
      },
      "response_path": "result"
    }
  },
"source_code": "def calculator(input_str: str) -> float:\\n    try:\\n        parts = [p.strip().strip('\"') for p in input_str.split(',')]\\n        a = float(parts[0])\\n        b = float(parts[1])\\n        op = parts[2]\\n        if op == 'add':\\n            return a + b\\n        elif op == 'subtract':\\n            return a - b\\n        elif op == 'multiply':\\n            return a * b\\n        elif op == 'divide':\\n            return a / b if b != 0 else float('inf')\\n        else:\\n            return 'Unsupported operation'\\n    except Exception as e:\\n        return f'Error: {e}'"
}
