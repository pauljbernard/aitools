{
  "name": "calculator",
  "description": "Performs basic arithmetic on two numbers.",
  "type": "tool",
  "backend": "openai",
  "tool_type": "function",
  "bindings": {
    "openai": {
      "parameters": {
        "type": "object",
        "properties": {
          "a": {
            "type": "number",
            "description": "The first operand"
          },
          "b": {
            "type": "number",
            "description": "The second operand"
          },
          "operation": {
            "type": "string",
            "enum": ["add", "subtract", "multiply", "divide"],
            "description": "The operation to perform"
          }
        },
        "required": ["a", "b", "operation"]
      },
      "function": "calculator"
    },
    "mcp": {
      "endpoint": "http://mcp.internal/api/calculate",
      "method": "POST",
      "headers": {
        "Authorization": "Bearer ${MCP_TOKEN}"
      },
      "payload_template": {
        "operand1": "${input.a}",
        "operand2": "${input.b}",
        "operator": "${input.operation}"
      },
      "response_path": "result"
    }
  },
  "source_code": "def calculator(a: float, b: float, operation: str) -> float:
    if operation == 'add':
        return a + b
    elif operation == 'subtract':
        return a - b
    elif operation == 'multiply':
        return a * b
    elif operation == 'divide':
        return a / b if b != 0 else float('inf')
    else:
        raise ValueError('Unsupported operation')"
}
